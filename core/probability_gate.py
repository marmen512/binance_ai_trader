"""
Ворота ймовірності для фільтрації сигналів залежно від режиму ринку.
"""


def pass_probability(prob: float, regime: str) -> bool:
    """
    Перевіряє, чи проходить ймовірність поріг для даного режиму.
    
    Args:
        prob: Ймовірність/впевненість моделі
        regime: Режим ринку ('TREND', 'RANGE', 'VOLATILE')
        
    Returns:
        True якщо ймовірність достатня, False інакше
    """
    # Пороги для різних режимів
    thresholds = {
        'TREND': 0.58,     # Нижчий поріг для трендового ринку
        'RANGE': 0.66,     # Середній поріг для флетового ринку
        'VOLATILE': 0.72   # Вищий поріг для волатильного ринку
    }
    
    threshold = thresholds.get(regime, 0.66)  # За замовчуванням 0.66
    
    return prob >= threshold
